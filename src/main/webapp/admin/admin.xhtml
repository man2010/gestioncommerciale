<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Administration</title>
    <style>
        .admin-container {
            display: flex;
            min-height: 100vh;
        }
        .admin-sidebar {
            width: 250px;
            background: #2c3e50;
            color: white;
            padding: 20px 0;
        }
        .admin-content {
            flex: 1;
            padding: 20px;
            background: #f5f6fa;
        }
        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .sidebar-menu li a {
            display: block;
            padding: 12px 20px;
            color: #ecf0f1;
            text-decoration: none;
            transition: all 0.3s;
        }
        .sidebar-menu li a:hover {
            background: #34495e;
        }
        .sidebar-menu li a i {
            margin-right: 10px;
        }
        .active-menu {
            background: #3498db;
        }
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }
    </style>
</h:head>
<h:body>
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="admin-sidebar">
            <div style="text-align: center; padding: 20px 0;">
                <h3>Administration</h3>
            </div>
            <ul class="sidebar-menu">
                <li>
                    <h:link value="Tableau de bord" outcome="admin" styleClass="#{facesContext.viewRoot.viewId eq '/admin.xhtml' ? 'active-menu' : ''}">
                        <i class="pi pi-home"></i> Tableau de bord
                    </h:link>
                </li>
                <li>
                    <h:link value="Utilisateurs" outcome="admin-users" styleClass="#{facesContext.viewRoot.viewId eq '/admin-users.xhtml' ? 'active-menu' : ''}">
                        <i class="pi pi-users"></i> Utilisateurs
                    </h:link>
                </li>
                <li>
                    <h:link value="Rôles" outcome="admin-roles" styleClass="#{facesContext.viewRoot.viewId eq '/admin-roles.xhtml' ? 'active-menu' : ''}">
                        <i class="pi pi-shield"></i> Rôles
                    </h:link>
                </li>
                <li>
                    <h:link value="Familles produits" outcome="admin-familles" styleClass="#{facesContext.viewRoot.viewId eq '/admin-familles.xhtml' ? 'active-menu' : ''}">
                        <i class="pi pi-tags"></i> Familles produits
                    </h:link>
                </li>
            </ul>
        </div>

        <!-- Content -->
        <div class="admin-content">
            <div class="admin-header">
                <h2>Tableau de bord administrateur</h2>
                <div>
                    <p:commandButton value="Déconnexion" action="#{utilisateurBean.logout}" 
                                    icon="pi pi-sign-out" styleClass="p-button-danger"/>
                </div>
            </div>

            <p:panel header="Statistiques rapides">
                <div class="p-grid">
                    <div class="p-col-4">
                        <p:panel header="Utilisateurs" styleClass="p-shadow-3">
                            <h3>#{utilisateurBean.countUtilisateurs}</h3>
                        </p:panel>
                    </div>
                    <div class="p-col-4">
                        <p:panel header="Rôles" styleClass="p-shadow-3">
                            <h3>#{roleBean.countRoles}</h3>
                        </p:panel>
                    </div>
                    <div class="p-col-4">
                        <p:panel header="Familles produits" styleClass="p-shadow-3">
                            <h3>#{familleBean.countFamilles}</h3>
                        </p:panel>
                    </div>
                </div>
            </p:panel>
        </div>
    </div>
</h:body>
</html>